# Install Wazuh Agent - OS Ubuntu 22.04
After successfully installing the Wauzuh Server, then the Wazuh Server is incomplete without the Agent to be monitored. In order for Wazuh to be able to monitor the endpoint, each endpoint must be installed Wazuh Agent. This agent serves to collect logs, detect file changes and send the data to the Wazuh Manager for deeper analysis. To install Wazuh Agent can be done using two methods, namely manual and automation using scripts from Wazuh.

## Manual Install
In the process of installing the Wazuh Agent pad endpoint requires root access to run all mounting commands.

### Add Repository
Before the installation process, the repository for the Wazuh Agent must first be created.
- **Install GPG Key**
  ```
  curl -s https://packages.wazuh.com/key/GPG-KEY-WAZUH | gpg --no-default-keyring --keyring gnupg-ring:/usr/share/keyrings/wazuh.gpg --import && chmod 644 /usr/share/keyrings/wazuh.gpg
  ```
- **Add Repository**
  ```
  echo "deb [signed-by=/usr/share/keyrings/wazuh.gpg] https://packages.wazuh.com/4.x/apt/ stable main" | tee -a /etc/apt/sources.list.d/wazuh.list
  ```
- **Update Device**
  ```
  apt-get update
  ```
### Deploy Wazuh Agent 
Once the repository has been created, the Wazuh Agent can be installed on the endpoint.
```
WAZUH_MANAGER="<ip_address_wazuh_manager>" apt-get install wazuh-agent
```
Enable and start Wazuh-Agent:
```
systemctl daemon-reload
systemctl enable wazuh-agent
systemctl start wazuh-agent
```
It is recommended to disable automatic updates of the Wazuh Agent to avoid conflicts in case the Wazuh Agent version differs from the Wazuh Server version. To do this, you can use the following command:
```
sed -i "s/^deb/#deb/" /etc/apt/sources.list.d/wazuh.list
```

## Install via Wazuh Dashboard
In the Wazuh Dashboard, there is an **Agent Summary** feature, but at first view, there will be no endpoints. You can click **_Deploy New Agent_**, which should direct you to the following menu:

![image 165](https://github.com/user-attachments/assets/caeca90f-190e-4a6c-9f27-d8af319684b8)

This method is easier compared to manual installation since it only requires running the script generated by Wazuh according to the OS where the Wazuh Agent will be installed.  
- **Select the OS & architecture of the device where the Wazuh Agent will be installed**
- **Enter the IP address of the Wazuh Manager**
- **Create your agent name**
- **Run the script generated by Wazuh on the endpoint**  
Example:
```
wget https://packages.wazuh.com/4.x/apt/pool/main/w/wazuh-agent/wazuh-agent_4.12.0-1_amd64.deb && sudo WAZUH_MANAGER='1' dpkg -i ./wazuh-agent_4.12.0-1_amd64.deb
```
- **Start on Endpoint**
```
sudo systemctl daemon-reload
sudo systemctl enable wazuh-agent
sudo systemctl start wazuh-agent
```

## ðŸ”Ž Suggested Further Exploration
After successfully installing and connecting the Wazuh Agent to the Server, here are some recommended explorations you can try:
- **Explore File Integrity Monitoring**
- **Monitor Login Activity**
- **Explore Agent Configuration**
- **View agent data on the Wazuh Dashboard**

For more details, you can explore further in the official Wazuh documentation: https://documentation.wazuh.com/




